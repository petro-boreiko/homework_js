<!DOCTYPE html>
<html lang="zxx">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="../js/script.js"></script>
		<link rel="stylesheet" href="../style.css">
		<title>Task 3</title>
	</head>

	<body>

		<div class="wrapper">
			<h1 class="main-title">Задача 3</h1>

			<div class="list__text">
				<p>
					Морський бій. Випадковим чином на двовимірному полі розміром 6*6 розташовується 5
					кораблів. Користувач стріляє вказуючи координати. Гра продовжується поки не потоплено усі кораблі
					або у користувача не закінчаться снаряди.
				</p>
			</div>

			<script>
				function createGameField(rowNum, colNum, shipsNum) {
					let gameField = []

					for (let row = 0; row < rowNum; row++) {
						let column = new Array(6).fill(0)
						gameField.push(column)
					}

					for (let ship = 0; ship < shipsNum;) {
						let x = Math.floor(Math.random() * rowNum)
						let y = Math.floor(Math.random() * colNum)

						if (gameField[x][y] === 0) {
							gameField[x][y] = 1
							ship++
						}
					}

					return gameField
				}

				function playGame(shipNum, ammunitionNum, gameField) {
					while (shipNum > 0 && ammunitionNum > 0) {
						let x = parseInt(prompt('Введіть координату X')) - 1
						let y = parseInt(prompt('Введіть координату Y')) - 1

						ammunitionNum--

						if (gameField[x][y] === 1) {
							alert('Ви влучили')
							gameField[x][y] === 0
							shipNum--
						}  else alert('Ви промахнулися')
					}

					if (shipNum === 0) return 'Ви виграли'
					else return 'Ви програли'
				}

				function battleShipGame(rowNum, colNum, shipsNum, ammunitionNum) {
					let gameField = createGameField(rowNum, colNum, shipsNum)
					let resultatGame = playGame(shipsNum, ammunitionNum, gameField)
					alert(resultatGame)
				}

				battleShipGame(6, 6, 5, 9)

			</script>
		</div>
	</body>

</html>